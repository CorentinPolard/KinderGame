{% extends 'base.html.twig' %}

{% block title %}
All Games
{% endblock %}

{% block main %}

<div class="row mt-3">

  {% for product in products %}

  <div class="col-lg-4 mt-3">
    <div class="card">
      <img src="{{ asset('uploads/medias/' ~ product.media) }}" class="card-img-top img-card" alt="...">
      <div class="card-body">
        <h5 class="card-title d-inline">{{ product.label }}</h5>
        {% if product.isReduced == 1 %}

        <p class="text-danger fw-bold d-inline">PROMO</p>

        {% endif %}
        <p class="card-text description">{{ product.description }}</p>
        <a href="{{path('shop_item',{item: product.label})}}" class="btn btn-primary">Voir le jeu</a>
      </div>
    </div>
  </div>

  {% endfor %}

  <div class="d-flex justify-content-between mt-3">
  </div>

  <div class="parent">
    {% if page > 1 %}
    <div class="d-flex justify-content-start prev">
      <a href="{{ path('shop_products', { page: page - 1 })  }}" class="btn btn-secondary mt-3">Page précédente</a>
    </div>
    {% endif %}
    {% if page < maxPages %} <div class="d-flex justify-content-end next">
      <a href="{{ path('shop_products', { page: page + 1 })  }}" class="btn btn-secondary mt-3">Page suivante</a>
  </div>
  {% endif %}
</div>

</div>

{% endblock %}